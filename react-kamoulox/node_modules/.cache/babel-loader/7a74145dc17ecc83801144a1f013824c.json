{"ast":null,"code":"import _classCallCheck from\"S:/Documents/Master 2/PWA/kamoulox/kamoulox/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"S:/Documents/Master 2/PWA/kamoulox/kamoulox/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"S:/Documents/Master 2/PWA/kamoulox/kamoulox/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"S:/Documents/Master 2/PWA/kamoulox/kamoulox/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import{getQuestions}from'../fonctions/appelleApi';import Question from'./Question';import Reponse from'./Reponse';var AppQuestion=/*#__PURE__*/function(_Component){_inherits(AppQuestion,_Component);var _super=_createSuper(AppQuestion);function AppQuestion(props){var _this;_classCallCheck(this,AppQuestion);_this=_super.call(this,props);_this.initQuestions=function(){getQuestions(10).then(function(data){_this.setState({listeQuestions:data,etape:0});console.log(_this.state.listeQuestions);});};_this.verifReponse=function(indexReponse){var _this$state=_this.state,listeQuestions=_this$state.listeQuestions,etape=_this$state.etape,reponseCliquer=_this$state.reponseCliquer;if(!reponseCliquer){if(indexReponse===listeQuestions[etape].indexBonneReponse){_this.setState({reponseCorrect:true,reponseCliquer:true});console.log(\"bonne réponse\");}else{_this.setState({reponseCorrect:false,reponseCliquer:true});console.log(\"mauvaise réponse\");}}};_this.nextStep=function(etape){_this.setState({etape:etape+1,reponseCorrect:null,reponseCliquer:false});console.log(_this.state.listeQuestions.length);console.log(_this.state.etape);};_this.state={listeQuestions:[],etape:null,reponseCorrect:false,reponseCliquer:false};return _this;}_createClass(AppQuestion,[{key:\"componentDidMount\",value:function componentDidMount(){this.initQuestions();}},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,listeQuestions=_this$state2.listeQuestions,etape=_this$state2.etape,reponseCliquer=_this$state2.reponseCliquer,reponseCorrect=_this$state2.reponseCorrect;if(listeQuestions.length>0){return/*#__PURE__*/_jsxs(\"div\",{children:[console.log(etape),console.log(listeQuestions.length),etape<listeQuestions.length?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Question,{enonce:listeQuestions[etape].enonce}),/*#__PURE__*/_jsx(Reponse,{reponses:listeQuestions[etape].reponses,etape:etape,verifReponse:this.verifReponse,reponseCorrect:reponseCorrect,reponseCliquer:reponseCliquer}),/*#__PURE__*/_jsx(\"button\",{disabled:reponseCliquer&&listeQuestions.length>=etape?false:true,onClick:function onClick(){return _this2.nextStep(etape);},children:\"Next\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Quiz termin\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Merci !\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.initQuestions();},children:\"Nouveau Quiz\"})]})]});}else{return null;}}}]);return AppQuestion;}(Component);export default AppQuestion;","map":{"version":3,"sources":["S:/Documents/Master 2/PWA/kamoulox/kamoulox/src/components/AppQuestion.js"],"names":["React","Component","getQuestions","Question","Reponse","AppQuestion","props","initQuestions","then","data","setState","listeQuestions","etape","console","log","state","verifReponse","indexReponse","reponseCliquer","indexBonneReponse","reponseCorrect","nextStep","length","enonce","reponses"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {getQuestions} from '../fonctions/appelleApi';\r\nimport Question from './Question';\r\nimport Reponse from './Reponse'\r\n\r\nclass AppQuestion extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            listeQuestions:[],\r\n            etape:null,\r\n            reponseCorrect:false,\r\n            reponseCliquer:false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.initQuestions()\r\n    }\r\n\r\n    initQuestions = () => {\r\n        getQuestions(10).then(data =>{\r\n            this.setState(\r\n                {\r\n                    listeQuestions:data,\r\n                    etape:0\r\n                }\r\n            )\r\n            console.log(this.state.listeQuestions)\r\n        })\r\n    }\r\n\r\n    verifReponse = (indexReponse) => {\r\n        const {listeQuestions, etape, reponseCliquer} = this.state\r\n        if(!reponseCliquer){\r\n            if(indexReponse===listeQuestions[etape].indexBonneReponse){\r\n                this.setState({\r\n                    reponseCorrect:true,\r\n                    reponseCliquer:true\r\n                });\r\n                console.log(\"bonne réponse\")\r\n            }else{\r\n                this.setState({\r\n                    reponseCorrect:false,\r\n                    reponseCliquer:true\r\n                })\r\n                console.log(\"mauvaise réponse\")\r\n            }\r\n        }\r\n    }\r\n\r\n    nextStep = (etape) => {\r\n        this.setState({\r\n            etape: etape + 1,\r\n            reponseCorrect: null,\r\n            reponseCliquer:false\r\n        });\r\n        console.log(this.state.listeQuestions.length)\r\n        console.log(this.state.etape)\r\n    }\r\n\r\n    render(){\r\n        let {listeQuestions, etape, reponseCliquer, reponseCorrect} = this.state;\r\n        if(listeQuestions.length>0){\r\n            return (\r\n                <div>\r\n                    {console.log(etape)}\r\n                    {console.log(listeQuestions.length)}\r\n                    {etape < listeQuestions.length ?\r\n                        (<>\r\n                        <Question enonce={listeQuestions[etape].enonce}/>\r\n                        <Reponse \r\n                            reponses={listeQuestions[etape].reponses}\r\n                            etape={etape}\r\n                            verifReponse={this.verifReponse}\r\n                            reponseCorrect={reponseCorrect}\r\n                            reponseCliquer={reponseCliquer}\r\n                        />\r\n                        <button disabled={\r\n                            reponseCliquer && listeQuestions.length >= etape\r\n                            ? false : true\r\n                        }\r\n                        onClick={() => this.nextStep(etape)}>Next</button>\r\n                        </>):(\r\n                            <div>\r\n                                <h1>Quiz terminé</h1>\r\n                                <p>Merci !</p>\r\n                                <button onClick={() => this.initQuestions()}>Nouveau Quiz</button>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n            )\r\n        }else{\r\n            return (null)\r\n        }\r\n    }\r\n}\r\n\r\nexport default AppQuestion"]},"metadata":{},"sourceType":"module"}